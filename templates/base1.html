{% if breadcrumb %}
<nav class="breadcrumb">
    {% for label, link in breadcrumb %}
        {% if link %}
            <a href="{{ link }}">{{ label }}</a> â†’
        {% else %}
            <span class="current">{{ label }}</span>
        {% endif %}
    {% endfor %}
</nav>
{% endif %}

<!doctype html>
<html lang="nl" data-theme="garden-light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}TestGarden{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script defer src="{{ url_for('static', filename='js/theme.js') }}"></script>
</head>
<body class="fade-in">

<header class="navbar">
    <div class="nav-left">
        <a class="brand" href="{{ url_for('core.index') }}">Test<span>Garden</span></a>
    </div>

    <nav class="nav-center desktop-only">
        {% for item in menus.main %}
            <a class="nav-link" href="{{ url_for(item.endpoint) }}">{{ item.name }}</a>
        {% endfor %}
    </nav>

    <div class="nav-right desktop-only">
        <div class="dropdown">
            <button class="dropdown-toggle">Oefeningen â–¼</button>
            <ul class="dropdown-menu">
                {% for item in menus.exercises %}
                    <li>
    <a href="{{ url_for(item.endpoint) }}">
        {{ item.icon }} {{ item.name }}
    </a>
</li>
                {% endfor %}
            </ul>
        </div>

        <div class="dropdown">
            <button class="dropdown-toggle">Uitleg â–¼</button>
            <ul class="dropdown-menu">
                {% for item in menus.instructions %}
                    <li>
    <a href="{{ url_for(item.endpoint) }}">
        {{ item.icon }} {{ item.name }}
    </a>
</li>
                {% endfor %}
            </ul>
        </div>

        <select id="themeSelect" class="theme-select">
            <option value="garden-light">ğŸŒ¿ Zen</option>
            <option value="sand">ğŸ–ï¸ Botanical</option>
            <option value="modern">ğŸ’ Modern</option>
            <option value="garden-night">ğŸŒ² Dark Mode</option>
        </select>

        </div>

    <button class="hamburger mobile-only" id="hamburgerBtn" aria-label="Menu">â˜°</button>
</header>

<nav class="mobile-menu" id="mobileMenu">
    {% for item in menus.main %}
        <a href="{{ url_for(item.endpoint) }}">{{ item.name }}</a>
    {% endfor %}

    <hr>

    {% for item in menus.exercises %}
        <a href="{{ url_for(item.endpoint) }}">{{ item.name }}</a>
    {% endfor %}

    <hr>

    {% for item in menus.instructions %}
        <a href="{{ url_for(item.endpoint) }}">{{ item.name }}</a>
    {% endfor %}

    <select id="themeSelectMobile" class="theme-select mobile-theme-select">
        <option value="garden-light">ğŸŒ¿ Zen</option>
        <option value="sand">ğŸ–ï¸ Botanical</option>
        <option value="modern">ğŸ’ Modern</option>
        <option value="garden-night">ğŸŒ² Forest</option>
    </select>

    <button id="themeToggleMobile" class="theme-btn">ğŸŒ™ Donker</button>
</nav>

<main class="content content-wide">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash-message {{ category }} slide-up">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
    
    {% block content %}{% endblock %}
</main>

<footer class="footer">
    <div class="footer-content">
        <div class="footer-section">
            <h3>TestGarden</h3>
            <p>Een veilige leeromgeving waar testers hun vaardigheden kunnen ontwikkelen en oefenen. Leren door ontdekken, groeien door te doen.</p>
            <p>Initiatief van Peter van Haeringen</p>
        </div>
        
        <div class="footer-section">
            <h3>Ons Partnerschap</h3>
            <p>ğŸ’¡ Visie & Pedagogiek: Peter van Haeringen<br>
               ğŸ¨ Design & Styling: Lao<br>
               ğŸ—ï¸ Architectuur & Themas: ChatGPT</p>
            <div class="partnership-badge">Samenwerking in Onderwijs</div>
        </div>
        
        <div class="footer-section">
            <h3>Verbinden</h3>
            <p><a href="{{ url_for('feedback.feedback_form') }}">ğŸ’¬ Geef feedback of suggesties</a><br>
            <a href="#">ğŸ“š Bekijk de broncode</a><br>
            <a href="#">ğŸŒ Deel met collega's</a></p>
        </div>
    </div>
    
    <div class="footer-bottom">
        <p>&copy; {{ year }} TestGarden â€“ Partners in Onderwijs<br>
        Dit lesmateriaal is vrij beschikbaar onder een Creative Commons licentie.<br>
        Samen maken we onderwijs toegankelijker, elke dag een beetje beter. ğŸŒ±</p>
    </div>
</footer>

<script>
    // Mobiel menu toggle
    document.getElementById('hamburgerBtn')?.addEventListener('click', function() {
        document.getElementById('mobileMenu').classList.toggle('open');
    });
    
    // Fade-in animatie voor content
    document.addEventListener('DOMContentLoaded', function() {
        const content = document.querySelector('main.content');
        if (content) {
            content.style.opacity = '0';
            content.style.transform = 'translateY(10px)';
            
            setTimeout(() => {
                content.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                content.style.opacity = '1';
                content.style.transform = 'translateY(0)';
            }, 100);
        }
    });
</script>

</body>
</html>